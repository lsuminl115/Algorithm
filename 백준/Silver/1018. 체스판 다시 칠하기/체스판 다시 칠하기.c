char W[10][10]={"WBWBWBWB","BWBWBWBW","WBWBWBWB","BWBWBWBW","WBWBWBWB","BWBWBWBW","WBWBWBWB","BWBWBWBW"},B[10][10]={"BWBWBWBW","WBWBWBWB","BWBWBWBW","WBWBWBWB","BWBWBWBW","WBWBWBWB","BWBWBWBW","WBWBWBWB"},e[100][100];f(int x, int y){int w=0,b=0,i,j;for(i=0;i<8;i++){for(j=0;j<8;j++){if(W[i][j]!=e[x+i][y+j])w++;else if(B[i][j]!=e[x+i][y+j])b++;}}if(w<b)return w;else return b;}main(){int n,m,i,j,q=9999,k;scanf("%d %d",&n,&m);for(i=0;i<n;i++)for(j=0;j<m;j++)scanf(" %c",&e[i][j]);for(i=0;i<=n-8;i++){for(j=0;j<=m-8;j++){k=f(i,j);if(q>k)q=k;}}printf("%d",q);}