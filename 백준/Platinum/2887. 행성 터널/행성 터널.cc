#include <bits/stdc++.h>
using namespace std;int Q[100001];int W(int x){if(Q[x]==x)return x;return Q[x]=W(Q[x]);}void E(int a,int b){a=W(a);b=W(b);if(a<b)Q[b]=a;else Q[a]=b;}int R(int a,int b){a=W(a);b=W(b);if(a==b)return 1;return 0;}typedef struct{int x,y,z,k;}U;int X(U a, U b){return a.x<b.x;}int Y(U a, U b){return a.y<b.y;}int Z(U a, U b){return a.z<b.z;}int main(){int n,x,y,z,A=0,i;vector<U>V,S;scanf("%d",&n);for(i=0;i<n;i++)Q[i]=i;for(i=0;i<n;i++){scanf("%d %d %d",&x,&y,&z);V.push_back({x,y,z,i});}sort(V.begin(),V.end(),X);for(i=0;i<n-1;i++)S.push_back({V[i].k,V[i+1].k,abs(V[i].x-V[i+1].x)});sort(V.begin(),V.end(),Y);for(i=0;i<n-1;i++)S.push_back({V[i].k,V[i+1].k,abs(V[i].y-V[i+1].y)});sort(V.begin(),V.end(),Z);for(i=0;i<n-1;i++)S.push_back({V[i].k,V[i+1].k,abs(V[i].z-V[i+1].z)});sort(S.begin(),S.end(),Z);for(i=0;i<S.size();i++){if(!R(S[i].x,S[i].y)){A+=S[i].z;E(S[i].x,S[i].y);}}printf("%d",A);return 0;}